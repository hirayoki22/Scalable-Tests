function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{tdYB:function(t,e,n){"use strict";n.r(e),n.d(e,"TestModule",(function(){return St}));var o=n("tyNb"),i=n("fXoL"),r=n("XNiG"),s=n("HDdC");function c(t){var e=t.error;t.subscriber.error(e)}var a,l,u=n("JIr8"),d=n("lJxs"),b=n("tk/3"),f=((a=function(){function t(e){_classCallCheck(this,t),this.http=e,this.testUrl="api/tests.json",this.durationTrackerSource=new r.a,this.durationTracker$=this.durationTrackerSource.asObservable()}return _createClass(t,[{key:"getAllTests",value:function(){return this.http.get(this.testUrl).pipe(Object(u.a)(this.errorHandler))}},{key:"getTest",value:function(t){return this.getAllTests().pipe(Object(d.a)((function(e){return e.find((function(e){return e.id==t}))})),Object(u.a)(this.errorHandler))}},{key:"getNextQuestion",value:function(t,e){return this.getTest(t).pipe(Object(d.a)((function(t){return t.questions.find((function(t){return t.id==e}))})),Object(u.a)(this.errorHandler))}},{key:"errorHandler",value:function(t){return t.error instanceof ErrorEvent?console.error("Cliend-side or network problems",t.error.message):console.error("Backend error",{body:t.error,status:t.status,statusText:t.statusText}),function(t,e){return new s.a(e?function(n){return e.schedule(c,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}("Unable to fetch data",t.error)}},{key:"updateDurationTracker",value:function(t){this.durationTrackerSource.next(t)}},{key:"stopDurationTracker",value:function(){this.durationTrackerSource.complete()}},{key:"questionBacktracker",value:function(t,e,n){var o=JSON.parse(localStorage.getItem("Test Session")),i=o.questions.find((function(e){return e.id==t}));i.completed=!0,i.completionDuration=n,i.selectedAnswer=e,localStorage.setItem("Test Session",JSON.stringify(o)),this.endCurrentSession(o)}},{key:"endCurrentSession",value:function(t){var e=t.questions.filter((function(t){return t.completed}));t.sessionCompleted=t.questions.length==e.length,t.sessionCompleted&&this.gradeTest(t)}},{key:"gradeTest",value:function(t){t.questions.map((function(t){t.isCorrect=!(t.correctAnswer.length!=t.selectedAnswer.length||!t.correctAnswer.every((function(e){return t.selectedAnswer.map((function(t){return"string"==typeof t?t.toLowerCase().trim():t})).includes("string"==typeof e?e.toLowerCase():e)})))})),t.score=t.questions.filter((function(t){return t.isCorrect})).map((function(t){return t.points})).reduce((function(t,e){return t+e}),0),t.duration=t.questions.map((function(t){return t.completionDuration})).reduce((function(t,e){return t+e}),0),t.modifiedDate=new Date,localStorage.setItem("Test Session",JSON.stringify(t))}},{key:"autoFailTest",value:function(){return new s.a((function(t){confirm("Leaving the page will affect your final test score. Are you sure?")?t.next(!0):t.next(!1)}))}}]),t}()).\u0275fac=function(t){return new(t||a)(i.Rb(b.a))},a.\u0275prov=i.Gb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),g=n("ofXK"),p=((l=function(){function t(e){_classCallCheck(this,t),this.image=e,this.defaultStyling()}return _createClass(t,[{key:"defaultStyling",value:function(){this.image.nativeElement.style.visibility="hidden",this.image.nativeElement.style.opacity="0",this.image.nativeElement.style.transition="opacity 0.7s ease"}},{key:"onImageLoad",value:function(){var t=this,e=this.image.nativeElement,n=setInterval((function(){e.naturalWidth>0&&e.naturalHeight>0&&(t.afterRenderStyle(),clearInterval(n))}),10)}},{key:"afterRenderStyle",value:function(){this.image.nativeElement.style.visibility="visible",this.image.nativeElement.style.opacity="1"}}]),t}()).\u0275fac=function(t){return new(t||l)(i.Kb(i.l))},l.\u0275dir=i.Fb({type:l,selectors:[["","image-loader",""]],hostBindings:function(t,e){1&t&&i.Vb("load",(function(){return e.onImageLoad()}))}}),l);function m(t,e){if(1&t&&(i.Nb(0,"div",5),i.Lb(1,"img",6),i.Mb()),2&t){var n=i.Yb().$implicit;i.zb(1),i.cc("src",n.icon,i.kc)("alt",n.subject)}}var h=function(t){return["./info",t]};function w(t,e){if(1&t&&(i.Nb(0,"li"),i.Nb(1,"a",2),i.nc(2,m,2,2,"div",3),i.Nb(3,"p",4),i.oc(4),i.Mb(),i.Mb(),i.Mb()),2&t){var n=e.$implicit;i.zb(1),i.cc("routerLink",i.fc(3,h,n.id)),i.zb(1),i.cc("ngIf",n.icon),i.zb(2),i.pc(n.subject)}}var v,M=((v=function(){function t(e){_classCallCheck(this,t),this.ts=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.testList$=this.ts.getAllTests()}}]),t}()).\u0275fac=function(t){return new(t||v)(i.Kb(f))},v.\u0275cmp=i.Eb({type:v,selectors:[["app-test"]],decls:6,vars:3,consts:[[1,"wrapper"],[4,"ngFor","ngForOf"],[3,"routerLink"],["class","test-icon",4,"ngIf"],[1,"subject"],[1,"test-icon"],["image-loader","",3,"src","alt"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.Nb(1,"h3"),i.oc(2,"Select one of the available tests"),i.Mb(),i.Nb(3,"ul"),i.nc(4,w,5,5,"li",1),i.Zb(5,"async"),i.Mb(),i.Mb()),2&t&&(i.zb(4),i.cc("ngForOf",i.ac(5,1,e.testList$)))},directives:[g.j,o.f,g.k,p],pipes:[g.b],styles:['h3[_ngcontent-%COMP%]{padding:6rem 0 3rem;color:#fff;font-size:2rem;font-weight:400;text-align:center}ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;max-width:800px;margin:2rem auto 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-animation:reveal .3s ease;animation:reveal .3s ease}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;height:200px;border:thin solid hsla(0,0%,100%,.1);border-radius:3px;background-color:#292929;transition:background-color .3s ease}.test-icon[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;overflow:hidden}.test-icon[_ngcontent-%COMP%]{position:relative;height:80%}.test-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:0;width:100%;height:15rem;background-image:linear-gradient(transparent,#292929)}.test-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.subject[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;width:100%;height:20%;padding:1rem;color:#fff;font-size:1.2rem;white-space:nowrap;text-overflow:ellipsis}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2b2b2b}']}),v);function C(t,e){if(1&t&&i.Lb(0,"img",9),2&t){var n=i.Yb();i.cc("src",n.question.intro.image,i.kc)}}var y,O,_,k=((_=function(){function t(){_classCallCheck(this,t),this.notifyChange=new i.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){this.notifyChange.emit(!0)}}]),t}()).\u0275fac=function(t){return new(t||_)},_.\u0275cmp=i.Eb({type:_,selectors:[["question-intro"]],inputs:{question:"question"},outputs:{notifyChange:"viewed"},decls:12,vars:3,consts:[[1,"view-container"],[1,"wrapper"],[1,"intro-container"],[1,"top-content"],[1,"content"],[3,"innerHTML"],["image-loader","","alt","question.intro.header","draggable","false",3,"src",4,"ngIf"],[1,"bottom-content"],[1,"btn",3,"click"],["image-loader","","alt","question.intro.header","draggable","false",3,"src"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.Nb(2,"section",2),i.Nb(3,"div",3),i.Nb(4,"h3"),i.oc(5),i.Mb(),i.Mb(),i.Nb(6,"article",4),i.Lb(7,"p",5),i.nc(8,C,1,1,"img",6),i.Mb(),i.Nb(9,"div",7),i.Nb(10,"button",8),i.Vb("click",(function(){return e.onClick()})),i.oc(11,"Continue"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&t&&(i.zb(5),i.pc(e.question.intro.header),i.zb(2),i.cc("innerHTML",e.question.intro.body,i.jc),i.zb(1),i.cc("ngIf",e.question.intro.image))},directives:[g.k,p],styles:[".intro-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:5rem 0;border-radius:4px;box-shadow:0 3px 15px rgba(0,0,0,.3);overflow:hidden}.top-content[_ngcontent-%COMP%]{padding:3rem 2rem;background-color:#fff}.top-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto;padding-bottom:1rem;color:#333;font-size:1.6rem;font-weight:400;border-bottom:3px solid #e00366}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;min-height:500px;padding:3rem;background-color:#fff}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:2rem;color:#555;line-height:1.7rem;overflow-y:scroll;scrollbar-width:none}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:550px;max-height:300px;margin:0 auto 2rem;border-radius:4px}.bottom-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%;padding:2rem;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]}),_),P=((O=function(){function t(e){_classCallCheck(this,t),this.ts=e,this.notifyTimeout=new i.n,this.isEnding=!1,this.radius=0,this.circumference=0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.setDefaults(),this.initTimer()}},{key:"setDefaults",value:function(){this.circle=document.querySelector(".outer"),this.radius=this.circle.r.baseVal.value,this.circumference=2*this.radius*Math.PI,this.circle.style.strokeDasharray="".concat(this.circumference," ").concat(this.circumference),this.countDown=this.time}},{key:"initTimer",value:function(){var t=this,e=+this.time.split(":")[0],n=+this.time.split(":")[1],o=+this.time.split(":")[2],i=3600*e+60*n+o,r=i;this.circle.style.animation="emptyOut ".concat(i,"s linear forwards"),this.questionTimer=setInterval((function(){0==(r-=1)&&(t.ts.stopDurationTracker(),t.notifyTimeout.emit(!0),clearInterval(t.questionTimer)),e>0&&0==n&&0==o&&(e-=1,n=60),n=o>0?n:n-=1,o=o>0?o-=1:59,t.ts.updateDurationTracker(i+1-r),t.countDown=t.styleCountdown(e,n,o),t.isEnding=!(r>10)}),1e3)}},{key:"styleCountdown",value:function(t,e,n){var o=function(t){return t>9?t:"0".concat(t)};return"".concat(o(t),":").concat(o(e),":").concat(o(n))}}]),t}()).\u0275fac=function(t){return new(t||O)(i.Kb(f))},O.\u0275cmp=i.Eb({type:O,selectors:[["timer"]],inputs:{resetTimer:"resetTimer",time:"time"},outputs:{notifyTimeout:"timeout"},features:[i.xb],decls:6,vars:3,consts:[["width","100","height","100",1,"progress-ring"],["fill","transparent","r","46","cx","50","cy","50",1,"progress-ring-circle","inner"],["r","46","cx","50","cy","50",1,"progress-ring-circle","outer"],["innerRing",""],["x","50%","y","50%","dominant-baseline","middle","text-anchor","middle",1,"count-down"]],template:function(t,e){1&t&&(i.Xb(),i.Nb(0,"svg",0),i.Lb(1,"circle",1),i.Lb(2,"circle",2,3),i.Nb(4,"text",4),i.oc(5),i.Mb(),i.Mb()),2&t&&(i.zb(4),i.Cb("running-out",e.isEnding),i.zb(1),i.qc(" ",e.countDown," "))},styles:[".progress-ring[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.progress-ring-circle[_ngcontent-%COMP%]{stroke-linecap:round;fill:transparent}.inner[_ngcontent-%COMP%]{stroke:#161516;stroke-width:7px}.outer[_ngcontent-%COMP%]{stroke:#e00366;stroke-width:8px;transform:rotate(-90deg);transform-origin:50% 50%}.count-down[_ngcontent-%COMP%]{font-size:1rem;fill:#ddd;transition:fill .3s linear}.running-out[_ngcontent-%COMP%]{fill:#e44646!important}@-webkit-keyframes emptyOut{0%{stroke-dashoffset:0}to{stroke-dashoffset:-289.02652413026095px}}@keyframes emptyOut{0%{stroke-dashoffset:0}to{stroke-dashoffset:-289.02652413026095px}}"]}),O),x=((y=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"percent",get:function(){var t=JSON.parse(localStorage.getItem("Test Session")),e=t.questions.length,n=t.questions.filter((function(t){return t.completed})).length;return Math.round(n/e*100)}}]),t}()).\u0275fac=function(t){return new(t||y)},y.\u0275cmp=i.Eb({type:y,selectors:[["progress-bar"]],decls:1,vars:3,consts:[[1,"progress-bar",3,"title"]],template:function(t,e){1&t&&i.Lb(0,"div",0),2&t&&(i.mc("width",e.percent,"%"),i.cc("title",e.percent+"% completed"))},styles:['@-webkit-keyframes waveAnimation{0%{opacity:0}25%{opacity:1}50%{opacity:0}75%{opacity:1}to{opacity:0}}@keyframes waveAnimation{0%{opacity:0}25%{opacity:1}50%{opacity:0}75%{opacity:1}to{opacity:0}}.progress-bar[_ngcontent-%COMP%]{display:block;left:0;bottom:-5px;width:0;height:5px;background:linear-gradient(45deg,#e03f88,#b073ff)}.progress-bar[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%]:before{position:absolute;transition:width .3s ease}.progress-bar[_ngcontent-%COMP%]:before{content:"";right:0;top:0;width:100%;height:100%;background:linear-gradient(-45deg,#ffaed3,#b073ff);-webkit-animation:waveAnimation 6s linear infinite;animation:waveAnimation 6s linear infinite}']}),y),q=n("3Pt+"),N=["answers"];function z(t,e){if(1&t){var n=i.Ob();i.Nb(0,"div",4),i.Nb(1,"strong"),i.oc(2),i.Mb(),i.Nb(3,"input",5,6),i.Vb("change",(function(){return i.ic(n),i.Yb(2).getSelectedAnswers()})),i.Mb(),i.Nb(5,"label"),i.oc(6),i.Mb(),i.Mb()}if(2&t){var o=e.$implicit,r=e.index,s=i.Yb(2);i.Bb(s.setAnswerClass(s.form.get("answers").value.toLowerCase())),i.zb(2),i.qc("",r+1,"."),i.zb(4),i.pc(o)}}function I(t,e){if(1&t&&(i.Nb(0,"div"),i.nc(1,z,7,4,"div",3),i.Mb()),2&t){var n=i.Yb();i.zb(1),i.cc("ngForOf",n.answers)}}function S(t,e){if(1&t&&(i.Nb(0,"span"),i.Nb(1,"strong"),i.oc(2),i.Mb(),i.oc(3),i.Mb()),2&t){var n=i.Yb(),o=n.index,r=n.$implicit;i.zb(2),i.qc("",o+1,"."),i.zb(1),i.qc(" ",r," ")}}function T(t,e){if(1&t&&(i.Nb(0,"span"),i.Nb(1,"strong",11),i.oc(2),i.Mb(),i.Mb()),2&t){var n=i.Yb().$implicit;i.zb(2),i.pc(n)}}function L(t,e){if(1&t){var n=i.Ob();i.Nb(0,"label",8),i.Nb(1,"input",9,6),i.Vb("change",(function(){return i.ic(n),i.Yb(2).getSelectedAnswers()})),i.Mb(),i.nc(3,S,4,2,"span",10),i.nc(4,T,3,1,"span",10),i.Mb()}if(2&t){var o=e.$implicit,r=i.hc(2),s=i.Yb(2);i.Bb(s.setAnswerClass(o)),i.zb(1),i.cc("value",r)("type",1==s.question.type?"radio":"checkbox"),i.zb(2),i.cc("ngIf",3!==s.question.type),i.zb(1),i.cc("ngIf",3==s.question.type)}}function A(t,e){if(1&t&&(i.Nb(0,"div"),i.nc(1,L,5,6,"label",7),i.Mb()),2&t){var n=i.Yb();i.zb(1),i.cc("ngForOf",n.answers)}}var j,E=((j=function(){function t(e){_classCallCheck(this,t),this.fb=e,this.enableReadonly=!1,this.notifySelected=new i.n}return _createClass(t,[{key:"ngOnChanges",value:function(){this.setDefaults(),this.createFormGroup()}},{key:"setAnswerClass",value:function(t){if(this.enableReadonly){t="string"==typeof t?t.toLowerCase().trim():t;var e=this.question.correctAnswer.map((function(t){return"string"==typeof t?t.toLowerCase().trim():t})),n=this.question.selectedAnswer.map((function(t){return"string"==typeof t?t.toLowerCase().trim():t}));return{"correct-selected":e.indexOf(t)>-1&&n.indexOf(t)>-1,"correct-unselected":e.indexOf(t)>-1&&-1==n.indexOf(t),"wrong-selected":-1==e.indexOf(t)&&n.indexOf(t)>-1,"not-applicable":-1==e.indexOf(t)&&-1==n.indexOf(t)}}}},{key:"setDefaults",value:function(){this.question.type<=3?this.answers=this.question.answers.concat(this.question.correctAnswer):4==this.question.type&&(this.answers=this.question.answers),3!==this.question.type&&this.shuffleAnswers(this.answers)}},{key:"createFormGroup",value:function(){var t=this,e={};this.question.type<=3?(this.question.answers.forEach((function(){return e.answers=new q.c({value:"",disabled:t.enableReadonly})})),this.form=new q.e(e)):this.form=this.fb.group({answers:[{value:this.enableReadonly?this.question.selectedAnswer[0]:"",disabled:this.enableReadonly}]})}},{key:"shuffleAnswers",value:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=[t[n],t[e]];t[e]=o[0],t[n]=o[1]}return t}},{key:"getSelectedAnswers",value:function(){var t,e=this,n=this.answerInput.map((function(t){return t.nativeElement}));switch(this.question.type){case 4:t=n.map((function(t){return t.value}));break;default:t=n.map((function(t,e){return t.checked?e:null})).filter((function(t){return null!==t})).map((function(t){return e.answers[t]}))}this.notifySelected.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||j)(i.Kb(q.b))},j.\u0275cmp=i.Eb({type:j,selectors:[["question-answers"]],viewQuery:function(t,e){var n;1&t&&i.sc(N,!0),2&t&&i.gc(n=i.Wb())&&(e.answerInput=n)},inputs:{question:"question",enableReadonly:["readonly","enableReadonly"],isCorrect:["is-correct","isCorrect"]},outputs:{notifySelected:"selected"},features:[i.xb],decls:3,vars:3,consts:[[3,"formGroup","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","answer-row",3,"class",4,"ngFor","ngForOf"],[1,"answer-row"],["formControlName","answers","type","text",3,"change"],["answers",""],["tabindex","0","class","answer",3,"class",4,"ngFor","ngForOf"],["tabindex","0",1,"answer"],["formControlName","answers","name","answers",3,"value","type","change"],[4,"ngIf"],[2,"text-transform","capitalize"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.nc(1,I,2,1,"div",1),i.nc(2,A,2,1,"div",2),i.Mb()),2&t&&(i.cc("formGroup",e.form)("ngSwitch",e.question.type),i.zb(1),i.cc("ngSwitchCase",4))},directives:[q.h,q.f,g.l,g.m,g.n,g.j,q.a,q.g,q.d,g.k],styles:[".answer[_ngcontent-%COMP%]{display:block;width:100%;height:auto;border:1px solid #dbe3eb;border-radius:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.answer[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:1rem}.answer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.answer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;padding:.8rem 1rem;color:#444;text-align:left;transition:background-color .3s ease,color .3s ease;cursor:pointer}.answer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled + span[_ngcontent-%COMP%]{cursor:default}.answer-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .answer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:.5rem}.answer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{background-color:#dbe3eb!important}.answer-row[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;padding:.8rem 1rem;border:1px solid #dbe3eb;border-radius:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.answer-row[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:2.1em}.answer-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-shrink:0;position:relative;display:block;width:250px;margin-right:1rem;margin-left:.5rem;padding:.4rem .5rem;text-align:center;background-color:#e7eff7;border-radius:8px;caret-color:#e00366}.answer-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#444;line-height:1.5rem}.selected[_ngcontent-%COMP%]{background-color:#dbe3eb}.not-applicable[_ngcontent-%COMP%]{opacity:.7}.correct-selected[_ngcontent-%COMP%]{border-color:transparent;background-color:#5add90}.correct-unselected[_ngcontent-%COMP%]{border:1px solid #5add90}.wrong-selected[_ngcontent-%COMP%]{border-color:transparent;background-color:#fd4242}.wrong-selected[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .wrong-selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .wrong-selected[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}"]}),j);function Y(t,e){if(1&t){var n=i.Ob();i.Nb(0,"question-intro",2),i.Vb("viewed",(function(){return i.ic(n),i.Yb().finishedIntro=!0})),i.Mb()}if(2&t){var o=i.Yb();i.cc("question",o.question)}}function F(t,e){if(1&t&&(i.Nb(0,"div",21),i.Lb(1,"img",22),i.Mb()),2&t){var n=i.Yb(4);i.zb(1),i.cc("src",n.question.image,i.kc)}}function D(t,e){if(1&t){var n=i.Ob();i.Nb(0,"section",10),i.Nb(1,"div",11),i.Nb(2,"h3"),i.oc(3),i.Mb(),i.Nb(4,"div",12),i.Nb(5,"span"),i.oc(6,"Points:"),i.Mb(),i.Nb(7,"span"),i.oc(8),i.Mb(),i.Mb(),i.Lb(9,"progress-bar"),i.Mb(),i.Nb(10,"div",13),i.nc(11,F,2,1,"div",14),i.Nb(12,"question-answers",15),i.Vb("selected",(function(t){return i.ic(n),i.Yb(3).sectedAnswers=t})),i.Mb(),i.Mb(),i.Nb(13,"div",16),i.Nb(14,"button",17),i.Vb("click",(function(){return i.ic(n),i.Yb(3).onTimeout()})),i.Nb(15,"span"),i.oc(16,"Next"),i.Mb(),i.Xb(),i.Nb(17,"svg",18),i.Lb(18,"path",19),i.Lb(19,"path",20),i.Mb(),i.Mb(),i.Mb(),i.Mb()}if(2&t){var o=i.Yb(3);i.zb(3),i.rc("",o.questionNumber,". ",o.question.title,""),i.zb(5),i.pc(o.question.points),i.zb(3),i.cc("ngIf",o.question.image),i.zb(1),i.cc("question",o.question),i.zb(2),i.cc("disabled",!o.sectedAnswers.length)}}function R(t,e){if(1&t){var n=i.Ob();i.Nb(0,"div",5),i.Nb(1,"section",6),i.Nb(2,"div",7),i.Nb(3,"h3"),i.oc(4),i.Mb(),i.Nb(5,"p"),i.oc(6),i.Mb(),i.Mb(),i.Nb(7,"timer",8),i.Vb("timeout",(function(){return i.ic(n),i.Yb(2).onTimeout()})),i.Mb(),i.Mb(),i.nc(8,D,20,6,"section",9),i.Mb()}if(2&t){var o=i.Yb(2);i.zb(4),i.qc("",o.testSubject," Test"),i.zb(2),i.rc("",o.question.section,". ",o.question.problem,""),i.zb(1),i.cc("time",o.question.timeLimit),i.zb(1),i.cc("ngIf",!o.loading&&o.question)}}function H(t,e){if(1&t&&(i.Nb(0,"div",3),i.nc(1,R,9,5,"div",4),i.Mb()),2&t){var n=i.Yb();i.zb(1),i.cc("ngIf",!n.loading&&n.question)}}var B,$=((B=function(){function t(e,n,o){_classCallCheck(this,t),this.router=e,this.route=n,this.ts=o,this.finishedIntro=!1,this.loading=!0,this._selectedAnswers=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe((function(e){t.testId=e.get("testId"),t.questionId=+e.get("questionId"),t.initQuestion(),t.ts.durationTracker$.subscribe((function(e){t.duration=e}))}))}},{key:"initQuestion",value:function(){var t=this;this.ts.getTest(this.testId).subscribe((function(e){t.testSubject=e.subject,t.question=e.questions.find((function(e){return e.id==t.questionId})),t.questionNumber=e.questions.findIndex((function(e){return e.id==t.questionId}))+1,t.finishedIntro=!1,t.loading=!1}))}},{key:"onTimeout",value:function(){var t=this;this.ts.questionBacktracker(this.question.id,this._selectedAnswers,this.duration),setTimeout((function(){t.router.navigate(["test/session",t.testId,t.questionId+1]),t.loading=!0}),500)}},{key:"sectedAnswers",set:function(t){this._selectedAnswers=t},get:function(){return this._selectedAnswers}}]),t}()).\u0275fac=function(t){return new(t||B)(i.Kb(o.d),i.Kb(o.a),i.Kb(f))},B.\u0275cmp=i.Eb({type:B,selectors:[["test-questions"]],decls:2,vars:2,consts:[[3,"question","viewed",4,"ngIf"],["class","view-container",4,"ngIf"],[3,"question","viewed"],[1,"view-container"],["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"top-section"],[1,"test-information"],[3,"time","timeout"],["class","question-section",4,"ngIf"],[1,"question-section"],[1,"top-content"],[1,"badge"],[1,"content"],["class","image-wrapper",4,"ngIf"],[3,"question","selected"],[1,"bottom-content"],[1,"proceed-btn",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","white","width","1.5rem","height","1.5rem"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["d","M0 0h24v24H0z","fill","none"],[1,"image-wrapper"],["image-loader","",3,"src"]],template:function(t,e){1&t&&(i.nc(0,Y,1,1,"question-intro",0),i.nc(1,H,2,1,"div",1)),2&t&&(i.cc("ngIf",(null==e.question?null:e.question.intro)&&!e.finishedIntro),i.zb(1),i.cc("ngIf",!(null!=e.question&&e.question.intro)||(null==e.question?null:e.question.intro)&&e.finishedIntro))},directives:[g.k,k,P,x,E,p],styles:[".top-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:4rem 0 2rem}.test-information[_ngcontent-%COMP%]{align-self:flex-end}.test-information[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-bottom:2rem;color:#999;font-size:1.6rem;font-weight:400}.test-information[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;font-weight:400}.question-section[_ngcontent-%COMP%]{width:100%;height:auto;margin:0 auto 4rem;border-radius:4px;box-shadow:0 3px 15px rgba(0,0,0,.3);-webkit-animation:slideUp .4s ease;animation:slideUp .4s ease;overflow:hidden}.top-content[_ngcontent-%COMP%]{position:relative;width:100%;padding:2rem 2rem 1.5rem;background-color:#292929}.top-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#eee;font-size:1.1rem;font-weight:400;line-height:2rem}.badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.3rem .7rem;border-radius:20px;background-color:#444;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{margin-right:.2rem;color:#ccc;font-size:.9rem}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{color:#85a4ff;font-size:1rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:200px;padding:3rem 2rem 2rem;background-color:#fff}.image-wrapper[_ngcontent-%COMP%]{max-width:550px;max-height:270px;margin:0 auto 2rem;border-radius:4px;overflow:hidden}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%;border-radius:4px}.bottom-content[_ngcontent-%COMP%]{justify-content:flex-end;width:100%;padding:2rem;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bottom-content[_ngcontent-%COMP%], .proceed-btn[_ngcontent-%COMP%]{display:flex;align-items:center}.proceed-btn[_ngcontent-%COMP%]{justify-content:space-between;padding:.4rem 1rem;background-color:#e00366;border-radius:3px}.proceed-btn[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:1px 2px 10px rgba(224,3,102,.8)}.proceed-btn[_ngcontent-%COMP%]:not(:disabled):active{-webkit-filter:brightness(90%);filter:brightness(90%)}.proceed-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin:0 1rem;color:#fff}"]}),B);function V(t,e){if(1&t){var n=i.Ob();i.Nb(0,"div",1),i.Nb(1,"div",2),i.Nb(2,"h1"),i.oc(3),i.Mb(),i.Nb(4,"p"),i.oc(5),i.Mb(),i.Nb(6,"p"),i.oc(7),i.Mb(),i.Nb(8,"p"),i.oc(9),i.Mb(),i.Nb(10,"p"),i.oc(11),i.Mb(),i.Nb(12,"button",3),i.Vb("click",(function(){return i.ic(n),i.Yb().onClick()})),i.oc(13,"Begin Test"),i.Mb(),i.Mb(),i.Mb()}if(2&t){var o=i.Yb();i.zb(3),i.qc("",o.test.subject," test"),i.zb(2),i.qc("Points: ",o.test.points," "),i.zb(2),i.qc("Total questions: ",o.test.questions.length," "),i.zb(2),i.qc("Time limit: ",o.timeLimit," minute(s)"),i.zb(2),i.qc("Difficulty: ",o.test.difficulty,"")}}var J,K=((J=function(){function t(e,n,o){_classCallCheck(this,t),this.router=e,this.route=n,this.ts=o,this.loading=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.testId=this.route.snapshot.paramMap.get("testId"),this.ts.getTest(this.testId).subscribe((function(e){t.test=e,t.timeLimit=Math.round(t.test.timeLimit/60),t.loading=!1}))}},{key:"onClick",value:function(){this.router.navigate(["./test/session",this.testId,1])}}]),t}()).\u0275fac=function(t){return new(t||J)(i.Kb(o.d),i.Kb(o.a),i.Kb(f))},J.\u0275cmp=i.Eb({type:J,selectors:[["app-test"]],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"card"],[1,"btn","start-button",3,"click"]],template:function(t,e){1&t&&i.nc(0,V,14,5,"div",0),2&t&&i.cc("ngIf",!e.loading&&e.test)},directives:[g.k],styles:[".card[_ngcontent-%COMP%]{max-width:600px;min-height:800px;margin:4rem auto 0;padding:3rem}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#ddd;font-size:1.4rem;font-weight:400}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:2rem}.start-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40%;margin:5rem auto 0;padding:.7rem 1.5rem;color:#fff;border-radius:3px;background-color:#e00366}"]}),J),G=n("jhN1");function U(t,e){if(1&t&&i.Lb(0,"i",12),2&t){var n=i.Yb().$implicit,o=i.Yb();i.cc("innerHTML",o.validatedAsTrusted(n.icon),i.jc)}}function Q(t,e){if(1&t&&(i.Nb(0,"div",10),i.Nb(1,"span"),i.oc(2),i.Mb(),i.Nb(3,"span"),i.oc(4),i.Mb(),i.nc(5,U,1,1,"i",11),i.Mb()),2&t){var n=e.$implicit;i.zb(2),i.qc("",n.label,": "),i.zb(2),i.pc(n.value),i.zb(1),i.cc("ngIf",n.icon)}}var W=function(t){return["./review",t]};function X(t,e){if(1&t&&(i.Nb(0,"button",13),i.Nb(1,"span"),i.oc(2),i.Mb(),i.Lb(3,"img",14),i.Mb()),2&t){var n=e.$implicit;i.cc("routerLink",i.fc(6,W,n.id))("title",n.title),i.zb(2),i.rc("",n.id,". ",n.title,""),i.zb(1),i.Bb(null!=n&&n.isCorrect?"correct":"wrong")}}var Z,tt,et,nt,ot=function(){return["./review"]},it=((nt=function(){function t(e,n){_classCallCheck(this,t),this.sanitizer=e,this.ts=n}return _createClass(t,[{key:"ngOnInit",value:function(){this.setDefaults()}},{key:"validatedAsTrusted",value:function(t){return this.sanitizer.bypassSecurityTrustHtml(t)}},{key:"setDefaults",value:function(){this.test=JSON.parse(localStorage.getItem("Test Session")),this.questions=this.test.questions,this.timeLimit=this.timeFormatter(this.test.timeLimit),this.duration=this.timeFormatter(this.test.duration),this.correct=this.questions.filter((function(t){return t.isCorrect})).length,this.wrong=this.questions.length-this.correct,this.socorePercent=Math.round(this.correct/this.questions.length*100)}},{key:"timeFormatter",value:function(t){var e=t>=60?Math.round(t/60).toString():t.toString();return"".concat(e,t>=3600?" hr(s)":t<3600&&t>=60?" min(s)":" sec(s)")}},{key:"groups",get:function(){return[{label:"Subject",value:this.test.subject},{label:"Time limit",value:"".concat(this.timeLimit)},{label:"Points",value:this.test.points},{label:"Difficulty",value:this.test.difficulty},{label:"Total questions",value:this.questions.length},{label:"Completion Duration ",value:"".concat(this.duration)},{label:"Correct answers",value:this.correct,icon:'<svg height="24" viewBox="0 0 24 24" width="24" fill="#5add90"><path d="M0 0h24v24H0z" fill="none"/><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'},{label:"Wrong answers",value:this.wrong,icon:'<svg height="24" viewBox="0 0 24 24" width="24" fill="#fd4242"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'},{label:"Your score",value:"".concat(this.test.score," / ").concat(this.test.points," - (").concat(this.socorePercent,"%)")}]}}]),t}()).\u0275fac=function(t){return new(t||nt)(i.Kb(G.b),i.Kb(f))},nt.\u0275cmp=i.Eb({type:nt,selectors:[["app-test-results"]],decls:14,vars:8,consts:[[1,"wrapper"],[1,"section"],[1,"test-information"],[1,"title"],[1,"date"],["class","row-group",4,"ngFor","ngForOf"],[1,"answers-review"],[1,"badge",3,"routerLink"],[1,"thumbnail-wrapper"],["class","thumbnail",3,"routerLink","title",4,"ngFor","ngForOf"],[1,"row-group"],["class","icon",3,"innerHTML",4,"ngIf"],[1,"icon",3,"innerHTML"],[1,"thumbnail",3,"routerLink","title"],["image-loader","","src","assets/img/thumbnail.jpg"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.Nb(1,"section",1),i.Nb(2,"div",2),i.Nb(3,"h3",3),i.oc(4,"Test Results"),i.Mb(),i.Nb(5,"span",4),i.oc(6),i.Zb(7,"date"),i.Mb(),i.nc(8,Q,6,3,"div",5),i.Mb(),i.Nb(9,"div",6),i.Nb(10,"a",7),i.oc(11,"Review all your answers"),i.Mb(),i.Nb(12,"div",8),i.nc(13,X,4,8,"button",9),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&t&&(i.zb(6),i.pc(i.bc(7,4,e.test.modifiedDate,"MMM d, y - h:mm")),i.zb(2),i.cc("ngForOf",e.groups),i.zb(2),i.cc("routerLink",i.ec(7,ot)),i.zb(3),i.cc("ngForOf",e.questions))},directives:[g.j,o.f,g.k,o.e,p],pipes:[g.e],styles:['.wrapper[_ngcontent-%COMP%]{padding:0;box-shadow:0 0 8px rgba(0,0,0,.1);background-color:#292929}.section[_ngcontent-%COMP%]{width:100%}.section[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:3rem}.test-information[_ngcontent-%COMP%]{position:relative;width:100%;padding:4rem 2rem 2rem}.test-information[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;bottom:-30px;transform:translateX(-50%);border:15px solid transparent;border-top-color:#292929}.title[_ngcontent-%COMP%]{margin-bottom:4rem;font-size:2rem;color:#fff;font-weight:300;padding-bottom:1rem;border-bottom:2px solid #e00366}.date[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.date[_ngcontent-%COMP%]{color:#ddd;font-size:.8rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.row-group[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.row-group[_ngcontent-%COMP%]:not(:last-of-type){margin:2rem 0}.row-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-shrink:0;display:block}.row-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{width:170px;color:#999;font-size:1rem}.row-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{color:#fff;font-size:1rem}.row-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:1rem}.answers-review[_ngcontent-%COMP%]{width:100%;padding:3rem;background-color:#161516}.badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.3rem .7rem;color:#85a4ff;border-radius:20px;background-color:#444;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.thumbnail-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;width:100%;padding-top:2rem}.thumbnail[_ngcontent-%COMP%]{position:relative;height:auto;margin-bottom:2rem;border-radius:3px;background-color:#292929;box-shadow:0 0 20px rgba(13,16,25,.1);transition:-webkit-filter .4s ease;transition:filter .4s ease;transition:filter .4s ease,-webkit-filter .4s ease;overflow:hidden}.thumbnail[_ngcontent-%COMP%]:after{content:"";opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);transition:opacity .3s ease}.thumbnail[_ngcontent-%COMP%]:hover:after{opacity:1}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .thumbnail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-bottom:.3rem solid transparent}.thumbnail[_ngcontent-%COMP%]   img.correct[_ngcontent-%COMP%]{border-color:#5add90}.thumbnail[_ngcontent-%COMP%]   img.wrong[_ngcontent-%COMP%]{border-color:#fd4242}.thumbnail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;padding:.7rem;color:#fff;font-size:.95rem;white-space:nowrap;text-align:left;overflow:hidden}.thumbnail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:50px;height:100%;background-image:linear-gradient(90deg,transparent,#292929 70%)}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;-o-object-fit:cover;object-fit:cover}@media (max-width:800px){.thumbnail-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:4rem}.thumbnail[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width:600px){.thumbnail-wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);gap:4rem}}']}),nt),rt=((et=function(){function t(e,n,o){_classCallCheck(this,t),this.ts=e,this.router=n,this.location=o}return _createClass(t,[{key:"checkCompletion",value:function(t,e){var n=this;return new s.a((function(o){var i=n.ts.getTest(t).subscribe((function(i){var r=JSON.parse(localStorage.getItem("Test Session"));switch(!0){case!r&&1==e:localStorage.setItem("Test Session",JSON.stringify(i)),o.next(!0);break;case r&&!r.sessionCompleted:var s=r.questions.find((function(t){return!t.completed})).id;e==s?o.next(!0):(n.router.navigate(["test/session",t,s]),o.next(!1));break;case r&&r.sessionCompleted:n.router.navigate(["test/results"]),o.next(!1);break;default:n.location.back(),o.next(!1)}}));return{unsubscribe:function(){i.unsubscribe()}}}))}}]),t}()).\u0275fac=function(t){return new(t||et)(i.Rb(f),i.Rb(o.d),i.Rb(g.h))},et.\u0275prov=i.Gb({token:et,factory:et.\u0275fac,providedIn:"root"}),et),st=((tt=function(){function t(e){_classCallCheck(this,t),this.tQuestion=e}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=t.paramMap.get("testId"),o=+t.paramMap.get("questionId");return this.tQuestion.checkCompletion(n,o)}}]),t}()).\u0275fac=function(t){return new(t||tt)(i.Rb(rt))},tt.\u0275prov=i.Gb({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt),ct=((Z=function(){function t(e,n,o){_classCallCheck(this,t),this.ts=e,this.location=n,this.router=o}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return new s.a((function(e){var o=JSON.parse(localStorage.getItem("Test Session")),i=t.paramMap.get("questionId");o&&(null==o?void 0:o.sessionCompleted)?i?n.ts.getNextQuestion(o.id,+i).subscribe((function(t){t?e.next(!0):(n.location.back(),e.next(!1))})):e.next(!0):(n.router.navigate(["test"]),e.next(!1))}))}}]),t}()).\u0275fac=function(t){return new(t||Z)(i.Rb(f),i.Rb(g.h),i.Rb(o.d))},Z.\u0275prov=i.Gb({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z),at=n("DH7j"),lt=n("n6bG"),ut=["goUpButton"],dt=["questionSection"],bt=["questionLink"];function ft(t,e){if(1&t){var n=i.Ob();i.Nb(0,"li"),i.Nb(1,"a",11,12),i.Vb("click",(function(){i.ic(n);var t=e.index;return i.Yb(3).spyedSection=t})),i.oc(3),i.Mb(),i.Mb()}if(2&t){var o=e.$implicit,r=e.index,s=i.Yb(3);i.Cb("active",r==s.spyedSection),i.zb(1),i.dc("fragment","question-",o.id,""),i.zb(2),i.rc(" ",o.id,". ",o.title," ")}}function gt(t,e){if(1&t&&(i.Nb(0,"nav",8),i.Nb(1,"ul",9),i.nc(2,ft,4,5,"li",10),i.Mb(),i.Mb()),2&t){var n=i.Yb(2);i.zb(2),i.cc("ngForOf",n.questions)}}function pt(t,e){if(1&t&&(i.Nb(0,"div",22),i.Lb(1,"img",23),i.Mb()),2&t){var n=i.Yb().$implicit;i.zb(1),i.cc("src",n.image,i.kc)}}function mt(t,e){1&t&&(i.Nb(0,"h4",27),i.oc(1,"Correct!"),i.Mb())}function ht(t,e){1&t&&(i.Nb(0,"h4",28),i.oc(1,"Incorrect"),i.Mb())}function wt(t,e){if(1&t&&(i.Nb(0,"article"),i.nc(1,mt,2,0,"h4",24),i.nc(2,ht,2,0,"h4",25),i.Lb(3,"div",26),i.Mb()),2&t){var n=i.Yb().$implicit;i.zb(1),i.cc("ngIf",n.isCorrect),i.zb(1),i.cc("ngIf",!n.isCorrect),i.zb(1),i.cc("innerHTML",n.feedback,i.jc)}}function vt(t,e){if(1&t&&(i.Nb(0,"section",13,14),i.Nb(2,"div",15),i.Nb(3,"h2"),i.oc(4),i.Mb(),i.Nb(5,"h3"),i.oc(6),i.Mb(),i.Nb(7,"div",16),i.Nb(8,"span"),i.oc(9,"Points:"),i.Mb(),i.Nb(10,"span"),i.oc(11),i.Mb(),i.Mb(),i.Mb(),i.Nb(12,"div",17),i.nc(13,pt,2,1,"div",18),i.Lb(14,"question-answers",19),i.Mb(),i.Nb(15,"div",20),i.nc(16,wt,4,3,"article",21),i.Mb(),i.Mb()),2&t){var n=e.$implicit;i.dc("id","question-",n.id,""),i.zb(4),i.rc("",n.section,". ",n.problem,""),i.zb(2),i.rc("",n.id,". ",n.title,""),i.zb(5),i.pc(n.points),i.zb(2),i.cc("ngIf",n.image),i.zb(1),i.cc("question",n)("readonly",!0),i.zb(2),i.cc("ngIf",n.feedback)}}function Mt(t,e){if(1&t&&(i.Nb(0,"div",4),i.Nb(1,"h1",5),i.oc(2,"Answers Review"),i.Mb(),i.nc(3,gt,3,1,"nav",6),i.nc(4,vt,17,10,"section",7),i.Mb()),2&t){var n=i.Yb();i.zb(3),i.cc("ngIf",n.showSidebar),i.zb(1),i.cc("ngForOf",n.questions)}}var Ct,yt,Ot,_t,kt=((Ct=function(){function t(e){_classCallCheck(this,t),this.route=e,this.spyedSection=0,this.loading=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;window.scrollTo({top:0}),this.route.paramMap.subscribe((function(e){var n=+e.get("questionId");if(n)t.route.data.subscribe((function(e){t.questions=[e.question],t.loading=!1}));else{var o=JSON.parse(localStorage.getItem("Test Session"));t.questions=o.questions,t.showSidebar=!n,t.loading=!1}}))}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){return t.setScrollspyDefauults()})),function t(e,n,o,i){return Object(lt.a)(o)&&(i=o,o=void 0),i?t(e,n,o).pipe(Object(d.a)((function(t){return Object(at.a)(t)?i.apply(void 0,_toConsumableArray(t)):i(t)}))):new s.a((function(t){!function t(e,n,o,i,r){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var c=e;e.addEventListener(n,o,r),s=function(){return c.removeEventListener(n,o,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(n,o),s=function(){return a.off(n,o)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,o),s=function(){return l.removeListener(n,o)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,d=e.length;u<d;u++)t(e[u],n,o,i,r)}i.add(s)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,o)}))}(window,"scroll").subscribe((function(){var e=t.goUpButton.nativeElement;window.scrollY>800?e.classList.add("show"):e.classList.remove("show"),t.initScrollspy()}))}},{key:"setScrollspyDefauults",value:function(){if(!this.route.snapshot.paramMap.get("questionId")){var t=this.questionSections.toArray().map((function(t){return t.nativeElement})).findIndex((function(t){var e=t.getBoundingClientRect().top;return e<=window.innerHeight&&e>-window.innerHeight}));this.scrollSectionLinkIntoView(t>-1?t:0)}}},{key:"initScrollspy",value:function(){var t=this;this.questionSections.toArray().map((function(t){return t.nativeElement})).forEach((function(e,n){var o=e.getBoundingClientRect().top;o<=400&&o>0&&n!==t.spyedSection&&t.scrollSectionLinkIntoView(n)}))}},{key:"scrollSectionLinkIntoView",value:function(t){this.questionLinks.toArray().map((function(t){return t.nativeElement}))[t].scrollIntoView({block:"center"}),this.spyedSection=t}},{key:"goToTop",value:function(){window.scrollTo({top:0})}}]),t}()).\u0275fac=function(t){return new(t||Ct)(i.Kb(o.a))},Ct.\u0275cmp=i.Eb({type:Ct,selectors:[["app-answers-review"]],viewQuery:function(t,e){var n;1&t&&(i.sc(ut,!0),i.sc(dt,!0),i.sc(bt,!0)),2&t&&(i.gc(n=i.Wb())&&(e.goUpButton=n.first),i.gc(n=i.Wb())&&(e.questionSections=n),i.gc(n=i.Wb())&&(e.questionLinks=n))},decls:5,vars:1,consts:[["class","wrapper","id","top",4,"ngIf"],[1,"go-up-btn",3,"click"],["goUpButton",""],[1,"material-icons"],["id","top",1,"wrapper"],[1,"title"],["class","side-navbar",4,"ngIf"],["class","question-section",3,"id",4,"ngFor","ngForOf"],[1,"side-navbar"],[1,"section-links"],[3,"active",4,"ngFor","ngForOf"],["routerLink","./",3,"fragment","click"],["questionLink",""],[1,"question-section",3,"id"],["questionSection",""],[1,"top-content"],[1,"badge"],[1,"content"],["class","image-wrapper",4,"ngIf"],[3,"question","readonly"],[1,"bottom-content"],[4,"ngIf"],[1,"image-wrapper"],["image-loader","",3,"src"],["class","correct-selected",4,"ngIf"],["class","wrong-selected",4,"ngIf"],[1,"feedback",3,"innerHTML"],[1,"correct-selected"],[1,"wrong-selected"]],template:function(t,e){1&t&&(i.nc(0,Mt,5,2,"div",0),i.Nb(1,"button",1,2),i.Vb("click",(function(){return e.goToTop()})),i.Nb(3,"i",3),i.oc(4,"keyboard_arrow_up"),i.Mb(),i.Mb()),2&t&&i.cc("ngIf",!e.loading&&e.questions)},directives:[g.k,g.j,o.f,E,p],styles:['.title[_ngcontent-%COMP%]{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-bottom:4rem;font-size:2rem;color:#fff;font-weight:300;padding:4rem 0 1rem;border-bottom:2px solid #e00366}.side-navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:320px;height:100%;border-left:1px solid #333;background-color:#222021;z-index:200}.side-navbar[_ngcontent-%COMP%]:after{top:0;background:linear-gradient(#222021 40%,transparent)}.side-navbar[_ngcontent-%COMP%]:after, .side-navbar[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;width:100%;height:2rem;z-index:1}.side-navbar[_ngcontent-%COMP%]:before{bottom:0;background:linear-gradient(transparent,#222021 60%)}.section-links[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;padding:2rem 1rem;overflow-x:hidden;overflow-y:auto;scrollbar-width:0}.section-links[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:1rem}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:1rem}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{visibility:hidden;opacity:0;content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:8px;height:8px;border-radius:8px;background-color:#85a4ff;transition:opacity .3s ease}.section-links[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{visibility:visible;opacity:1}.section-links[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#85a4ff}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.5rem;color:#999;font-weight:400;line-height:1.9rem;border-radius:3px;transition:background-color .3s ease,color .3s ease}.section-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.active):hover   a[_ngcontent-%COMP%]{color:#f2f2f2;background-color:#383637}.question-section[_ngcontent-%COMP%]{position:relative;width:100%;min-height:100px;margin:0 auto 4rem;border-radius:4px;box-shadow:0 3px 15px rgba(0,0,0,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.question-section[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:transparent;z-index:1}.top-content[_ngcontent-%COMP%]{position:relative;width:100%;padding:2rem 2rem 1.5rem;background-color:#292929}.top-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#999;font-size:1.3rem}.top-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .top-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:400;line-height:2rem}.top-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#eee;font-size:1.1rem}.badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.3rem .7rem;border-radius:20px;background-color:#444;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{margin-right:.2rem;color:#ccc;font-size:.9rem}.badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{color:#85a4ff;font-size:1rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:200px;padding:3rem 2rem 2rem;background-color:#fff}.image-wrapper[_ngcontent-%COMP%]{max-width:550px;max-height:270px;margin:0 auto 2rem;border-radius:4px;overflow:hidden}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}.bottom-content[_ngcontent-%COMP%]{width:100%;padding:0 2rem 3rem;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bottom-content[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:100%;padding:1.5rem;border-radius:10px;background-color:#eff4fa}.bottom-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-bottom:1rem;font-size:1.3rem;font-weight:400}.correct-selected[_ngcontent-%COMP%]{color:#12a851}.wrong-selected[_ngcontent-%COMP%]{color:#fd4242}.feedback[_ngcontent-%COMP%]{line-height:1.7rem}.go-up-btn[_ngcontent-%COMP%]{visibility:hidden;opacity:0;position:fixed;bottom:3rem;right:2rem;display:flex;justify-content:center;align-items:center;width:45px;height:45px;border-radius:30px;box-shadow:0 4px 8px rgba(0,0,0,.5);background-color:#e20367;transition:opacity .4s ease,-webkit-filter .3s ease;transition:opacity .4s ease,filter .3s ease;transition:opacity .4s ease,filter .3s ease,-webkit-filter .3s ease;z-index:100}.go-up-btn[_ngcontent-%COMP%]:active{-webkit-filter:brightness(90%);filter:brightness(90%)}.go-up-btn.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}.go-up-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#fff}@media (max-width:1900px){.side-navbar[_ngcontent-%COMP%]{display:none}}@media (max-width:500px){.go-up-btn[_ngcontent-%COMP%]{bottom:1.5rem;right:1.5rem}}']}),Ct),Pt=n("LRne"),xt=n("EY2u"),qt=n("5+tZ"),Nt=[{path:"",component:M},{path:"info/:testId",component:K},{path:"session/:testId/:questionId",component:$,canActivate:[st]},{path:"results",component:it,canActivate:[ct]},{path:"results/review",component:kt,canActivate:[ct]},{path:"results/review/:questionId",component:kt,resolve:{question:(yt=function(){function t(e,n){_classCallCheck(this,t),this.location=e,this.ts=n}return _createClass(t,[{key:"resolve",value:function(t,e){var n=this,o=JSON.parse(localStorage.getItem("Test Session")),i=+t.paramMap.get("questionId");return this.ts.getNextQuestion(o.id,i).pipe(Object(qt.a)((function(t){return t?Object(Pt.a)(o.questions.find((function(e){return e.id==t.id}))):(n.location.back(),xt.a)})))}}]),t}(),yt.\u0275fac=function(t){return new(t||yt)(i.Rb(g.h),i.Rb(f))},yt.\u0275prov=i.Gb({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt)}}],zt=((Ot=function t(){_classCallCheck(this,t)}).\u0275mod=i.Ib({type:Ot}),Ot.\u0275inj=i.Hb({factory:function(t){return new(t||Ot)},imports:[[o.g.forChild(Nt)],o.g]}),Ot),It=n("PCNd"),St=((_t=function t(){_classCallCheck(this,t)}).\u0275mod=i.Ib({type:_t}),_t.\u0275inj=i.Hb({factory:function(t){return new(t||_t)},providers:[],imports:[[zt,It.a]]}),_t)}}]);